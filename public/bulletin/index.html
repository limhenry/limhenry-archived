<!DOCTYPE html>
<html>

<head>
    <title>MMU Bulletin</title>
    <link href="/bulletin/css/materialize.min.css" media="screen,projection" rel="stylesheet">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <link href="/bulletin/css/style.css" rel="stylesheet">
    <link href="/bulletin/manifest.json" rel="manifest">
    <link href="/bulletin/favicon.ico" rel="shortcut icon" type="image/png">
    <link href="/bulletin/launcher-icon-4x.png" rel="icon" sizes="192x192">
    <meta content="https://limhenry.xyz/bulletin/launcher-icon-4x.png">
    <meta content="MMU Bulletin">
    <meta content="MMU Bulletin Board with Material Design. Created, Developed and Designed by Henry Lim.">
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body onscroll=scroll()>
    <div class="navbar-fixed">
        <div id='dropdown1' class='dropdown-content' style="width:300px; height:240px">
            <div style="float: left;height: 64px;margin: 12px; margin-bottom:0px">
                <img class="avatar" id="avatar2" src="/bulletin/img/avatar.jpg" style="width: 52px; height: 52px; border-radius: 50%;"></div>
            <div style="margin-left:75px;margin-top:16px;position: absolute;">
                <li id="username2"><b>Username</b></li>
                <li style="font-size: 0.8rem;" id="email2">email@email.com</li>
            </div>
            <li class="divider"></li>
            <li><a href="setting.html">Setting</a></li>
            <li><a onClick="unregister()" id="signout2">Logout</a></li>
        </div>

        <nav>
            <a href="#" class="brand-logo">MMU Bulletin</a>
            <ul class="right hide-on-med-and-down">
                <li><a href="https://facebook.com/mmubulletin">Facebook</a></li>
                <li><a href="https://cms.mmu.edu.my/psp/csprd/?cmd=login&languageCd=ENG&">CamSys</a></li>
                <li><a href="//mmls.mmu.edu.my">MMLS</a></li>
                <li><a href="/">limhenry.xyz</a></li>
                <li><a class='dropdown-button' href='#' data-activates='dropdown1' data-constrainwidth='false' data-beloworigin="true" style="height:64px; margin-right: 6px"><i class="mdi-navigation-more-vert" style="font-size:1.5rem"></i></a></li>
            </ul>
            <ul id="slide-out" class="side-nav">
                <div id="nav-banner">
                    <img class="avatar" id="avatar" src="/bulletin/img/avatar.jpg">
                    <p class="username" id="username">MMU Bulletin</p>
                    <p class="email" id="email"></p>
                </div>
                <li><a href="https://facebook.com/mmubulletin">Facebook</a></li>
                <li><a href="https://cms.mmu.edu.my/psp/csprd/?cmd=login&languageCd=ENG&">CamSys</a></li>
                <li><a href="//mmls.mmu.edu.my">MMLS</a></li>
                <li><a href="/">limhenry.xyz</a></li>
                <li class="divider"></li>
                <li><a href="/bulletin/setting.html">Setting</a></li>
                <li><a onClick="unregister()" id="signout" style="display:none; ">Sign Out</a></li>
            </ul>
            <a href="#" data-activates="slide-out" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
        </nav>
    </div>
    <main>
        <div class="input-field col s6" id="search_bar">
          <input placeholder="Search" id="search_field" type="text" name="search" class="validate" autocomplete="off">
          <!-- <label for="first_name">First Name</label> -->
        </div>

    <div class="row" id="preloader" style="margin-top:50px; margin-bottom:50px">
        <div class="preloader-wrapper small active center-align" style="display: block;margin-left: auto;margin-right: auto;">
            <div class="spinner-layer spinner-blue">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-red">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-yellow">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>

            <div class="spinner-layer spinner-green">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>

    <ul class="collapsible" data-collapsible="accordion" id="links">
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3866326270033666" data-ad-slot="2594658120" data-ad-format="auto">
            </ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

    </ul>

    <div id="modal1" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h4>Setting</h4>
            <button class="js-push-button" disabled>
                Enable Notification
            </button>
            <code class="curl-code-example js-curl-command" style="display:none"></code>
            <div class="switch">
                <label>
                    Off
                    <input type="checkbox" checked>
                    <span class="lever"></span> On
                </label>
                <input class="push-noti" id="push-noti" type="checkbox">
                <p id="tips"></p>
            </div>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>
        </div>
    </div>
</main>
    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h4 class="white-text">MMU Bulletin</h4>
                    <p class="grey-text text-lighten-4">MMU Bulletin Board with Material Design.
                        <br>Created, Developed and Designed by Henry Lim.</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">limhenry</h5>
                    <ul>
                        <li><a class="grey-text text-lighten-3" href="//limhenry.xyz">limhenry.xyz</a></li>
                        <li><a class="grey-text text-lighten-3" href="//limhenry.xyz/blog/">Blog</a></li>
                        <li><a class="grey-text text-lighten-3" href="//github.com/limhenry">GitHub</a></li>
                        <li><a class="grey-text text-lighten-3" href="//plus.google.com/+HenryLim96">Google Plus</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                Â© 2015 Henry Lim
            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/bulletin/js/materialize.min.js"></script>
    <script src="/bulletin/js/search.js"></script>
    <script>
    document.getElementById('links').style.display = 'none';
        function getprofile() {
            $(function() {
                $.ajax({
                    type: "GET",
                    url: '//mmu-api.appspot.com/profile',
                    dataType: "jsonp",
                    success: function(data) {
                        profile = data;
                        var email = profile.email;
                        var username = email.substring(0, 10);
                        avatar = document.getElementById("avatar");
                        avatar.setAttribute("style", "display: inline");
                        document.getElementById("username").innerHTML = username;
                        document.getElementById("username2").innerHTML = username;
                        document.getElementById("email").innerHTML = email;
                        document.getElementById("email2").innerHTML = email;
                        signout = document.getElementById("signout");
                        signout2 = document.getElementById("signout2");
                        signout.setAttribute("style", "display: block");
                        signout2.setAttribute("style", "display: block");
                        welcomemessage = "Welcome back, " + username;
                        Materialize.toast(welcomemessage, 5000); //
                    },
                    error: function(err) {
                    }
                });
            });
        }
    </script>

    <script>
        function parsejson() {
            var i = 0
            while (i < Object.keys(datas).length) {
                var div = document.createElement("div");
                var div2 = document.createElement("div");
                var li = document.createElement("li");
                var p = document.createElement("p");
                var p2 = document.createElement("p");
                var icon = document.createElement("i");
                icon.setAttribute("class", "mdi-editor-attach-file tooltipped");
                icon.setAttribute("data-position", "left");
                icon.setAttribute("data-delay", "50");
                icon.setAttribute("data-tooltip", "Attachment available");
                li.setAttribute("id", i);
                var title = document.createTextNode(datas[i].title.toUpperCase() + " - " + datas[i].posted_date);


                var contents = document.createTextNode(datas[i].content);
                div2.appendChild(p);
                var s = datas[i].images;
                s = s.replace("bulletinfile", "https://online.mmu.edu.my/bulletinfile");
                p.innerHTML = s;
                if (datas[i].attachment !== "") {
                    var s2 = "Attachment: <br>" + datas[i].attachment + "<br>";
                    p2.innerHTML = s2;
                    div2.appendChild(p2);
                    div.appendChild(icon);
                }


                div.appendChild(title);
                p.appendChild(contents);

                div.setAttribute("class", "collapsible-header");
                div.setAttribute("id", datas[i].posted_ID);
                div2.setAttribute("class", "collapsible-body");
                document.getElementById("links").appendChild(li);
                document.getElementById(i).appendChild(div);
                document.getElementById(i).appendChild(div2);
                p = document.getElementById(i).children[1].children[0]
                p.innerHTML = p.innerHTML.replace(/\n\n/g, "<br>")
                i++;
            }
            hash();
            document.getElementById('links').style.display = 'block';
            document.getElementById('preloader').style.display = 'none';
            var completed = true;
            run();


        }

        function run() {
            $('.tooltipped').tooltip({
                delay: 50
            });

            function GetCookie(name) {
                var arg = name + "=";
                var alen = arg.length;
                var clen = document.cookie.length;
                var i = 0;
                while (i < clen) {
                    var j = i + alen;
                    if (document.cookie.substring(i, j) == arg)
                        return "here";
                    i = document.cookie.indexOf(" ", i) + 1;
                    if (i == 0) break;
                }
                return null;
            }
            var visit = GetCookie("COOKIE1");
            if (visit == null) {
                var expire = new Date();
                window.name = "thiswin";
                Materialize.toast('WARNING: This is an experimental build.', 5000); //
                Materialize.toast('By browsing our site you agree to our use of cookies.', 10000); //
                expire = new Date(expire.getTime() + 7776000000);
                document.cookie = "COOKIE1=here; expires=" + expire;
            } else {

            }

            $('.collapsible').collapsible({
                accordion: false // A setting that changes the collapsible behavior to expandable instead of the default accordion style
            });


        }
        $(".button-collapse").sideNav();
        $('.modal-trigger').leanModal();

        function redirecttologin() {
            document.getElementById('preloader').style.display = 'none';
        }

        function hash() {
            hash = location.hash;
            try {
                hash = hash.replace("#", "");
                apple = document.getElementById(hash);
                apple.setAttribute("class", "collapsible-header active");
                apple.scrollIntoView({
                    block: "start",
                    behavior: "smooth"
                });
            } catch (e) {
            }

        }
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-57741199-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="/bulletin/main.js"></script>
</body>

</html>
