<dom-module id="app-page">
    <template>
        <style>
        :host {
            display: block;
            --primary-background-color: #E91E63;
            --secondary-background-color: #ECEFF1;
            --tertiary-background-color: #F50057;
            --highlight-background-color: #E64A19;
            --primary-text-color: rgba(255, 255, 255, 0.9);
            --secondary-text-color: rgba(0, 0, 0, 0.9);
            --paper-tab-ink: #fff;
            color: var(--primary-text-color);
        }
        
        app-toolbar {
            background: var(--primary-background-color);
            background: -moz-linear-gradient(45deg, #ee3945 0%, #dc1b7c 36%, #dc1b7c 92%);
            /* FF3.6-15 */
            background: -webkit-linear-gradient(45deg, #ee3945 0%, #dc1b7c 36%, #dc1b7c 92%);
            /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(45deg, #ee3945 0%, #dc1b7c 36%, #dc1b7c 92%);
            /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid: DXImageTransform.Microsoft.gradient( startColorstr='#ee3945', endColorstr='#dc1b7c', GradientType=1);
            /* IE6-9 fallback on horizontal gradient */
            height: 200px;
            /*-webkit-transition: width 300ms ease-in-out, height 300ms ease-in-out;
            -moz-transition: width 300ms ease-in-out, height 300ms ease-in-out;
            -o-transition: width 300ms ease-in-out, height 300ms ease-in-out;
            transition: width 300ms ease-in-out, height 300ms ease-in-out;*/
        }
        
        app-toolbar [title] {
            font-size: 1.8em;
            font-weight: 300;
            margin-left: 24px;
        }
        
        paper-tabs {
            margin-left: 16px;
            width: 450px;
            --paper-tabs-selection-bar-color: #fff;
        }
        
        paper-toolbar {
            background: var(--primary-background-color);
        }
        
        paper-item {
            color: var(--secondary-text-color);
        }
        
        neon-animated-pages {
            min-height: calc(100vh - 500px);
        }
        
        neon-animated-pages .iron-selected {
            position: static;
        }
        
        @media screen and (max-width: 840px) {
            app-toolbar {
                height: 64px;
                background: var(--primary-background-color);
            }
            app-toolbar [title] {
                font-size: 20px;
                font-weight: 400;
                margin-left: 12px;
                color: white;
            }
        }
        </style>
        <iron-media-query query="(min-width: 840px)" query-matches="{{wide}}" on-query-matches-changed="_onQueryChangeds"></iron-media-query>
        <app-drawer-layout force-narrow>
            <template is="dom-if" if="{{!wide}}">
                <app-drawer id="drawer" swipe-open>
                    <paper-toolbar class="tall">
                        <div class="bottom drawer-text">
                            <div>Henry Lim</div>
                            <div>limhenry.xyz</div>
                        </div>
                    </paper-toolbar>
                    <iron-selector attr-for-selected="id" selected="{{data.page}}">
                        <paper-item id="" drawer-toggle on-tap="scrollTop">Home</paper-item>
                        <paper-item id="project" drawer-toggle on-tap="scrollTop">Project</paper-item>
                        <paper-item id="contact" drawer-toggle on-tap="scrollTop">Contact</paper-item>
                        <paper-item id="resources" drawer-toggle on-tap="scrollTop">Resources</paper-item>
                    </iron-selector>
                </app-drawer>
            </template>
            <template is="dom-if" if="{{wide}}">
                <app-drawer id="drawer"></app-drawer>
            </template>
            <app-header-layout id="appHeaderLayout">
                <template is="dom-if" if="{{!wide}}">
                    <app-header effects="waterfall fade-background">
                        <app-toolbar wide-layout$="{{wide}}">
                            <template is="dom-if" if="{{!wide}}">
                                <paper-icon-button icon="menu" drawer-toggle></paper-icon-button>
                                <div title>limhenry.xyz</div>
                            </template>
                        </app-toolbar>
                    </app-header>
                </template>
                <template is="dom-if" if="{{wide}}">
                    <app-header effects="waterfall fade-background">
                        <app-toolbar wide-layout$="{{wide}}">
                            <template is="dom-if" if="{{!wide}}">
                                <paper-icon-button icon="menu" drawer-toggle></paper-icon-button>
                                <div title>limhenry.xyz</div>
                            </template>
                            <template is="dom-if" if="{{wide}}">
                                <div title>limhenry.xyz</div>
                                <paper-tabs attr-for-selected="id" selected="{{data.page}}" bottom-item>
                                    <paper-tab id="" on-tap="scrollTop">HOME</paper-tab>
                                    <paper-tab id="project" on-tap="scrollTop">PROJECT</paper-tab>
                                    <paper-tab id="contact" on-tap="scrollTop">CONTACT</paper-tab>
                                    <paper-tab id="resources" on-tap="scrollTop">RESOURCES</paper-tab>
                                </paper-tabs>
                            </template>
                        </app-toolbar>
                    </app-header>
                </template>
                <div id="appContent">
                    <carbon-location route="{{route}}"></carbon-location>
                    <carbon-route route="{{route}}" pattern="/:page" data="{{data}}"></carbon-route>
                    <neon-animated-pages class="flex" attr-for-selected="id" selected="{{data.page}}">
                        <home-page id=""></home-page>
                        <project-page id="project"></project-page>
                        <contact-page id="contact"></contact-page>
                        <resources-page id="resources"></resources-page>
                    </neon-animated-pages>
                    <footer-page></footer-page>
                </div>
            </app-header-layout>
        </app-drawer-layout>
    </template>
    <script>
    Polymer({
        is: 'app-page',
        properties: {
            route: {
                type: Object,
                notify: true
            },
            data: {
                type: Object,
                value: {
                    page: '/home/'
                },
            },
        },
        ready: function() {
            this.async(function() {
                if (!this.route.path && this.route.path == "/") {
                    this.set('route.path', '/');
                }
            }, 1);
        },
        _onQueryChangeds: function() {
            var div = this.$.appContent;
            if (this.wide == false) {
                div.style.paddingTop = "200px";
            }
            if (this.wide == true) {
                div.style.paddingTop = "0px"
            }
        },
        scrollTop: function() {
            document.body.scrollTop = "0";
        }

    });
    </script>
</dom-module>
